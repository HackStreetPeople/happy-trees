<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
	<link rel="stylesheet" href="/assets/css/style.css" type="text/css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.js"></script>
	<script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
	<style>
        #map {
        height: 200px;
        width:900px;
        }
    </style>
	<title>Project 2 Starter</title>
</head>

<body>
	{{{ body }}}
	<h2>Google Maps Demo TEST</h2>
    <!--The div element for the map -->
    <div id="map"></div>
	
<script>
function initMap()
{
    let lenoir = {lat: 35.9140196, lng: -81.5389849};
    let map = new google.maps.Map(document.getElementById('map'), {
        zoom: 6,
        center: lenoir
    });

// ARRAY of multiple markers
    let markers = [
    {
        coords: {lat: 36.529847, lng: -80.987143},
        content: "<h3>Double H Mitigation Site</h3>"
    },

    {
    coords: {lat: 35.350886, lng: -82.556899},
    content: "<h3>Banner Farm Road Mitigation Site</h3>"
    },

    {
    coords: {lat: 35.403670, lng: -81.351360},
    content: "<h3>Oak Hill Dairy Mitigation Site</h3>"
    },    

    {
    coords: {lat: 35.3662, lng: -83.8026},
    content: "<h3>East Buffalo Creek Mitigation Site</h3>"
    }
];
 
// Loop through markers
for(let i = 0; i < markers.length; i++) {
    // Add the marker w/ this
    addMarker(markers[i]);
}


function addMarker(props){
    let marker = new google.maps.Marker({
        position: props.coords,
        map: map 
    });


// Check the content
if(props.content){
    let infoWindow = new google.maps.InfoWindow({
        content:props.content
    });

    marker.addListener("click", function(){
        infoWindow.open(map, marker);
    });
    }
}

}

</script>
<script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCplpc0oQkWZMiH7Qhu9RruadMb6PikeuU&callback=initMap">
</script>
  <script src="/assets/js/app.js"></script>
  
</body>

</html>